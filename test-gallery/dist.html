<!DOCTYPE html>
<html>
  <head>
    <title>Vega Test Gallery: Distributions</title>
    <meta charset="utf-8" />
    <link
      href="https://fonts.googleapis.com/css?family=Roboto+Condensed:300|Fjalla+One"
      rel="stylesheet"
    />
    <link href="css/gallery.css" type="text/css" rel="stylesheet" />

    <!-- These scripts link to the Vega runtime -->
    <script src="https://cdn.jsdelivr.net/npm/vega@5"></script>
    <script src="https://cdn.jsdelivr.net/npm/vega-embed@6"></script>

    <!-- This is the script generated from Elm -->
    <script src="js/galleryDist.js"></script>
  </head>

  <body>
    <h1>Vega Test Gallery</h1>

    <p>
      From the
      <a href="https://vega.github.io/vega/examples/" target="_blank"
        >Vega Example Gallery</a
      >
    </p>

    <ul>
      <li><a href="bar.html">bar charts</a></li>
      <li><a href="lineArea.html">line and area charts</a></li>
      <li><a href="radial.html">radial charts</a></li>
      <li><a href="scatter.html">dot and scatterplots</a></li>
      <li><b>distribution charts</b></li>
      <li><a href="geo.html">geographic maps</a></li>
      <li><a href="tree.html">tree diagrams</a></li>
      <li><a href="network.html">network diagrams</a></li>
      <li><a href="other.html">other chart types</a></li>
      <li><a href="custom.html">custom visual designs</a></li>
      <li><a href="interaction.html">interaction techniques</a></li>
    </ul>

    <h2>Distributions</h2>

    <p>
      A histogram subdivides a numerical range into bins, and counts the number
      of data points with each segment. The resulting bar chart provides a
      discrete estimate of the probability density function.
    </p>
    <div id="histo1" class="view"></div>

    <p>
      This example demonstrates a histogram over a numerical range, with a
      segment to show the prevalence of null values.
    </p>
    <div id="histo2" class="view"></div>

    <p>
      Visual comparison of estimated probability distributions for a sample of
      numeric values. A normal (Gaussian) distribution parameterized by the mean
      and standard deviation, and a kernel density estimate. This example
      supports estimates of either probability density functions (pdf) or
      cumulative distribution functions (cdf), using Vega’s density transform.
    </p>
    <div id="density1" class="view"></div>

    <p>
      A box plot summarizes a distribution of quantitative values using a set of
      summary statistics. Here, the boxes show the interquartile range (IQR),
      with the white bar indicating the median value. The thin lines
      (“whiskers”) currently show the extent of the minimum and maximum values;
      other values, such as whiskers extending 1.5 * IQR from each end of the
      box, are often used as well. See the violin plot example for an
      alternative approach.
    </p>
    <div id="boxplot1" class="view"></div>

    <p>
      A violin plot visualizes a distribution of quantitative values as a
      continuous approximation of the probability density function, computed
      using kernel density estimation (KDE). The densities are additionally
      annotated with the median value and interquartile range, shown as black
      lines. Violin plots can be more informative than classical box plots.
    </p>
    <div id="violinplot1" class="view"></div>

    <p>
      A plot of the top-k film directors by aggregate worldwide gross. Performs
      an aggregation of all directors, ranks them, and filters to only the top
      results, using the 'window' transform.
    </p>
    <div id="window1" class="view"></div>

    <p>
      A plot of the top-k film directors, plus all other directors, by aggregate
      worldwide gross. Unlike the previous example, this chart includes a
      category of all other directors aggregated together. The visualization
      spec first computes aggregates for all directors and ranks them. It then
      copies these ranks back to the source data using a lookup transform, and
      determines which directors belong in the “other” category before
      performing a final aggregation.
    </p>
    <div id="window2" class="view"></div>

    <p>
      A binned scatterplot is a more scalable alternative to the standard
      scatter plot. The data points are grouped into bins, and an aggregate
      statistic is used to summarize each bin. Here we use a circular area
      encoding to depict the count of records, visualizing the density of data
      points. For higher bin counts color might instead be used, though with
      some loss of perceptual comparison accuracy.
    </p>
    <div id="scatter1" class="view"></div>

    <p>
      Data point density calculation that can be have its parameters
      interactively changed. Depicts the density as both a raster ('heatmap')
      and isocontour plot.
    </p>
    <div id="contour1" class="view"></div>

    <p>
      Although now deprecated, it is also possible to create contours with the
      <code>trContour</code> transform.
    </p>
    <div id="contour2" class="view"></div>

    <p>
      A wheat plot is an alternative to standard dot plots and histograms that
      incorporates aspects of both. The x-coordinate of a point is based on its
      exact value. The y-coordinate is determined by grouping points into
      histogram bins, then stacking them based on their rank order within each
      bin. While not scalable to large numbers of data points, wheat plots allow
      inspection of (and interaction with) individual points without
      overplotting.
    </p>
    <div id="wheat1" class="view"></div>

    <p>
      A quantile dot plot represents a probability distribution by taking a
      uniform sample of quantile values and plotting them in a dot plot. It
      visualizes a representative set of possible outcomes of a random process,
      and provides a discrete alternative to probability density and violin
      plots in which finding probability intervals reduces to counting dots in
      the display.
    </p>

    <p>
      This example visualizes quantiles for a log-normal distribution that
      models hypothetical bus arrival times (in minutes from the current time),
      following the example of
      <a
        href="https://dl.acm.org/citation.cfm?doid=2858036.2858558"
        target="_blank"
      >
        Kay, Kola, Hullman and Munson, 2016</a
      >. If we are willing to miss a bus 2 out of 20 times, given 20 quantiles
      we can count up 2 dots from the left to get the time we should arrive at
      the bus stop.
    </p>

    <p>
      Click or drag on the chart to explore risk thresholds for arriving at the
      bus stop. Double-click to remove the threshold.
    </p>
    <div id="dotbin1" class="view"></div>

    <p>
      A quantile-quantile (or Q-Q) plot visually compares two probability
      distributions by plotting a set of matching quantile values for both. For
      example, plotting the corresponding 1st, 2nd, 3rd, etc., percentiles for
      each distribution. Q-Q plots are often used to plot an empirical data
      distribution against a theoretical distribution. If the two distributions
      are similar, they will lie along a line; notable deviations from a line
      are evidence of different distribution functions.
    </p>

    <p>
      This example compares an empirical sample against two theoretical
      distributions. Change the input data source (samples from normal or
      uniform distributions) to observe how different samples compare with the
      theoretical distributions. The quantile transform produces quantile values
      for input data; the quantileUniform and quantileNormal expression
      functions produce the theoretical quantile values.
    </p>
    <div id="quantile1" class="view"></div>

    <p>
      Rather than showing a continuous probability distribution, Hypothetical
      Outcome Plots (or HOPs) visualize a set of draws from a distribution,
      where each draw is shown as a new plot in either a small multiples or
      animated form.
    </p>
    <p>
      This example – inspired by The New York Times – displays random draws for
      a simulated time-series of values (these could be sales or employment
      statistics). The noise signal determines the amount of random variation
      added to the signal. The trend signal determines the strength of a linear
      trend, where zero corresponds to no trend at all (a flat uniform
      distribution). When the noise is high enough, draws from a distribution
      without any underlying trend may cause us to “hallucinate” interesting
      variations. Viewing the different frames may help viewers get a more
      intuitive sense of random variation.
    </p>
    <div id="hops1" class="view"></div>

    <p>
      A two-dimensional regression analysis models one data variable as a
      function of another. The resulting model produces a trend line that
      summarizes and extrapolates observed data. This example uses parametric
      regression models to predict IMDB users’ film ratings based on Rotten
      Tomatoes critics’ ratings.
    </p>
    <div id="regression1" class="view"></div>

    <p>
      <a href="https://en.wikipedia.org/wiki/Local_regression" target="_blank"
        >Locally-estimated regression</a
      >
      produces a trend line by performing weighted regressions over a sliding
      window of points. The bandwidth parameter determines the size of the
      sliding window of nearest-neighbor points, expressed as a fraction of the
      total number of points included.
    </p>
    <div id="regression2" class="view"></div>

    <p>
      Summary statistics for U.S. flight data, interactively grouped by time
      unit. Demonstrates use of the timeunit transform, in conjunction with the
      timeSequence and timeUnitSpecifier expression functions, to flexibly
      process and format date-time data.
    </p>
    <div id="timeUnits1" class="view"></div>

    <h2>Source</h2>
    <details>
      <summary>click to see code</summary>
      <div id="elmContainer"></div>
    </details>

    <script>
      Elm.GalleryDist.init({
        node: document.getElementById("elmContainer"),
      }).ports.elmToJS.subscribe(function (namedSpecs) {
        for (let name of Object.keys(namedSpecs)) {
          vegaEmbed(`#${name}`, namedSpecs[name], {
            actions: true,
            logLevel: vega.Warn,
          }).catch(console.warn);
        }
      });
    </script>
  </body>
</html>
