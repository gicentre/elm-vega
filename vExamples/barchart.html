<!DOCTYPE html>
<html>

<head>
  <title>Vega Barchart example</title>
  <meta charset="utf-8">

  <!-- These scripts link to the Vega runtime -->
  <script src="https://vega.github.io/vega/vega.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/vega-embed@3"></script>

  <!-- This is the script generated from Elm -->
  <script src="js/barchart.js"></script>
</head>

<body>
  <h2>Bar chart tutorial example</h2>
  <div id="barchart"></div>

<script>
// This function grabs the specifications from Elm (here called namedSpecs).
Elm.Barchart.worker().ports.elmToJS.subscribe(function(namedSpecs) {
  for (let name of Object.keys(namedSpecs)) {
    vegaEmbed(`#${name}`, namedSpecs[name], { actions: false }).catch(
      console.warn
    );
  }
});
</script>

</body>

</html>
