<!DOCTYPE html>

<head>
  <title>Vega Test Gallery</title>
  <meta charset="utf-8">

  <link href="https://fonts.googleapis.com/css?family=Roboto:300" rel="stylesheet">
  <style>body {font-family: 'Roboto', sans-serif;} #elmContainer{background-color: rgb(252,247,236);} .view > * { display: inline-block; vertical-align: top; line-height: 1.6; margin-left: 1em;}</style>

  <!-- These scripts link to the Vega runtime -->
  <script src="https://cdn.jsdelivr.net/npm/vega@3"></script>
  <script src="https://cdn.jsdelivr.net/npm/vega-embed@3"></script>

  <!-- This is the script generated from Elm -->
  <script src="js/gallery.js"></script>
</head>

<body>

  <h1>Vega Test Gallery</h1>

  <h2>Bar Charts</h2>
  <p>
    A bar chart encodes quantitative values as the extent of rectangular bars.
    This example includes basic highlighting and tooltips on mouse hover.
  </p>
  <div id="barChart1" class="view"></div>

  <p>
    A stacked bar chart depicts the sum of series of quantitative values using layered bars, while still enabling inspection of individual series.
  </p>
  <div id="barChart2" class="view"></div>

  <p>
    This grouped bar chart facets the data into groups, then creates a bar chart for each sub-group.
  </p>
  <div id="barChart3" class="view"></div>

  <p>
    This nested bar chart depicts aggregated values across multiple categories.
    The input data is subdivided according to two fields (with uneven category membership).
    Each sub-group is then aggregated to show the average value of a third, quantitative field.
  </p>
  <div id="barChart4" class="view"></div>

  <p>
    A population pyramid shows the distribution of age groups within a population.
    This example shows males and females across 150 years of U.S. census data.
    Drag the slider to see the U.S. population change over time (but watch out for missing data in 1890!).
  </p>
  <div id="barChart5" class="view"></div>

  <h2>Line and Area Charts</h2>
  <p>
     Different interpolators change the curvature of the line.
     Options such as cardinal or Catmull-Rom interpolation can produce pleasing curves, but can also “hallucinate” maximum or minimum values that do not exist in the data.
     Use monotone interpolation for smooth curves that faithfully preserve monotonicity.
  </p>
  <div id="lineChart1" class="view"></div>

  <p>
    An area chart uses a filled shape to show changes in a quantitative value.
  </p>
  <div id="areaChart1" class="view"></div>

  <p>
    A stacked area chart depicts the sum of series of quantitative values using layered areas, while still enabling inspection of individual series.
  </p>
  <div id="areaChart2" class="view"></div>

  <p>
    By dividing an area chart into consecutive layers, horizon graphs present time-series data in a compact space while preserving resolution.
    Click the chart to change the number of layers.
    Though the chart size changes, the spatial resolution of the area chart stays constant.
  </p>
  <div id="areaChart3" class="view"></div>

  <p>
    The Job Voyager is an interactive stacked graph of occupations based on 150 years of U.S. census data.
    Either click elements or type queries to explore.
    The search box supports regular expressions; for example the query <code>ist$</code> finds all jobs ending with 'ist'.
  </p>
  <div id="areaChart4" class="view"></div>

  <h2>Circular Charts</h2>
  <p>
    A pie chart encodes proportional differences among a set of numeric values as the angular extent and area of a circular slice.
  </p>
  <div id="circularChart1" class="view"></div>

  <h2>Source</h2>
  <details><summary>click to see code</summary>
    <div id="elmContainer"></div>
  </details>

  <script>
    Elm.Gallery.embed(document.getElementById('elmContainer')).ports.elmToJS.subscribe(function(namedSpecs) {
      for (let name of Object.keys(namedSpecs)) {
        vegaEmbed(`#${name}`, namedSpecs[name], {
          actions: false,
          logLevel: vega.Warn
        }).catch(console.warn);
      }
    });
  </script>

</body>

</html>
