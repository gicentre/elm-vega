<!DOCTYPE html>
<html>
  <head>
    <title>Vega Test Gallery: Network Diagrams</title>
    <meta charset="utf-8" />
    <link
      href="https://fonts.googleapis.com/css?family=Roboto+Condensed:300|Fjalla+One"
      rel="stylesheet"
    />
    <link href="css/gallery.css" type="text/css" rel="stylesheet" />

    <!-- These scripts link to the Vega runtime -->
    <script src="https://cdn.jsdelivr.net/npm/vega@5"></script>
    <script src="https://cdn.jsdelivr.net/npm/vega-embed@6"></script>

    <!-- This is the script generated from Elm -->
    <script src="js/galleryNetwork.js"></script>
  </head>

  <body>
    <h1>Vega Test Gallery</h1>

    <p>
      From the
      <a href="https://vega.github.io/vega/examples/" target="_blank"
        >Vega Example Gallery</a
      >
    </p>

    <ul>
      <li><a href="bar.html">bar charts</a></li>
      <li><a href="lineArea.html">line and area charts</a></li>
      <li><a href="radial.html">radial charts</a></li>
      <li><a href="scatter.html">dot and scatterplots</a></li>
      <li><a href="dist.html">distribution charts</a></li>
      <li><a href="geo.html">geographic maps</a></li>
      <li><a href="tree.html">tree diagrams</a></li>
      <li><b>network diagrams</b></li>
      <li><a href="other.html">other chart types</a></li>
      <li><a href="custom.html">custom visual designs</a></li>
      <li><a href="interaction.html">interaction techniques</a></li>
    </ul>

    <h2>Network Diagrams</h2>

    <p>
      Hierarchical edge bundling that visualizes dependencies between classes in
      a software class hierarchy. Dependency curves are routed along the tree
      path between source and targets nodes in the package hierarchy. This
      example uses Vega’s tree transform to layout the nodes, and a line mark
      with bundle interpolation to draw dependencies. Hover over a node to
      highlight specific linkages.
    </p>
    <div id="bundle1" class="view"></div>

    <p>
      Network layout by force-directed placement. Uses Vega’s force transform to
      simulate physical forces such as charge repulsion and edge constraint.
      Drag nodes to reposition them.
    </p>
    <div id="force1" class="view"></div>

    <p>
      Matrix diagrams visualize a network by treating nodes as rows and columns
      of a table; cells are colored in if an edge exists between two nodes. This
      example depicts character co-occurrences in Victor Hugo’s Les Misérables.
      The underlying data is an undirected graph, and so the matrix is symmetric
      around the diagonal. The matrix is also reorderable by grabbing a node
      label to rearrange rows and columns.
    </p>
    <div id="matrix1" class="view"></div>

    <p>
      An arc diagram visualizes a network using a one-dimensional layout of
      nodes and circular arcs to represent links. Though an arc diagram may not
      always convey the overall structure of the graph as effectively as a
      two-dimensional layout, with a good ordering of nodes one can identify
      cliques and bridges. Arc diagrams were originally invented to depict
      repeated musical structures in Martin Wattenberg’s The Shape of Song.
    </p>
    <div id="arc1" class="view"></div>

    <p>
      An interactive visualization of connections among major U.S. airports in
      2008. Based on a U.S. airports example by Mike Bostock.
    </p>
    <div id="map1" class="view"></div>

    <h2>Source</h2>
    <details>
      <summary>click to see code</summary>
      <div id="elmContainer"></div>
    </details>

    <script>
      Elm.GalleryNetwork.init({
        node: document.getElementById("elmContainer"),
      }).ports.elmToJS.subscribe(function (namedSpecs) {
        for (let name of Object.keys(namedSpecs)) {
          vegaEmbed(`#${name}`, namedSpecs[name], {
            actions: true,
            logLevel: vega.Warn,
          }).catch(console.warn);
        }
      });
    </script>
  </body>
</html>
